<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Socketry</h1><h2><a href="https://playby.github.io/Socketry/">Docs</a></h2><h2>About</h2><p>Socketry allows for an easy way to set up websocket servers and clients. It is built to allow anybody to easily set up websockets without any hastle. 
#</p>
<h2>Use</h2><p>Socketry has an easy way to access all of the clients connected to the server.<br/></p>
<pre class="prettyprint source lang-js"><code>const Socket = require('./index.js');
const server = new Socket.Server(8080);

console.log(server.clients); // array</code></pre><p>You can filter through these clients to target the current client as well, since each client has their own unique id. You can find it by just using <code>client.id</code>.<br/>
#</p>
<h3>Basic server file</h3><p>To start using socketry, you will need a server file. <br/></p>
<pre class="prettyprint source lang-js"><code>const Socket = require('./index.js');
// Create a new server on port `8080`
const server = new Socket.Server(8080);

// Fires when a client connects to the server
server.on('connect', usr => {
    console.log('User connected!');

    // Fires when the client closes or disconnects from the server
    usr.on('end', extUsr => {
        console.log('User Disconnected');
    });

    // fires when a message is sent to the server
    usr.on('message', (data, from) => {
        // Parse the data so that you can use each part
        data = JSON.parse(data);
        console.log(data);
        // Sends the message back to every client
        server.clients.forEach(c => {
            c.send(`${data.usr}: ${data.msg}`);
        });
    });
});</code></pre><p>This is just the barebones of a server. It just receives the websockets, and sends them out again to each client.
#</p>
<h3>Basic client file</h3><p>You will also need a way to communicate to the server. You can do this in node by using another barebones file.</p>
<pre class="prettyprint source lang-js"><code>const Socket = require('./index.js');
// Create a client that connects to localhost, on port `8080`
const socket = new Socket.Client('ws://localhost:8080');

// Fires when connected to a server
socket.on('open', usr => {
    console.log('Connected!');

    // Fires when server sends a message to the client
    socket.on('message', (msg) => {
        console.log(msg);
    });

    // Send a message to the server in object form.
    socket.send({msg: 'Message', usr: 'SharkFin'});

    // Close the websocket connection
    socket.end();
});</code></pre><h3>.send()</h3><p>When sending with the client, you send an object. You can have any property inside the object, as long as the server will accept it. </p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Server.html">Server</a></li><li><a href="User.html">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat May 12 2018 20:39:25 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>